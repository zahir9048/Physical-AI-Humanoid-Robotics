"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[495],{6648:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"module-2/week-5","title":"Module 2: ROS 2 Fundamentals","description":"Week 5: Advanced ROS 2 Concepts and Tools","source":"@site/docs/module-2/week-5.mdx","sourceDirName":"module-2","slug":"/module-2/week-5","permalink":"/physical-ai-textbook/docs/module-2/week-5","draft":false,"unlisted":false,"editUrl":"https://github.com/zahir9048/physical-ai-textbook/tree/001-build-comprehensive-textbook/docs/module-2/week-5.mdx","tags":[],"version":"current","frontMatter":{"sidebar_label":"Week 5: Advanced ROS 2 Concepts and Tools"},"sidebar":"tutorialSidebar","previous":{"title":"Week 4: ROS 2 Python Package Building and Launch Files","permalink":"/physical-ai-textbook/docs/module-2/week-4"},"next":{"title":"Week 6: Gazebo Setup and URDF/SDF Models","permalink":"/physical-ai-textbook/docs/module-3/week-6"}}');var t=a(4848),s=a(8453);const i={sidebar_label:"Week 5: Advanced ROS 2 Concepts and Tools"},l="Module 2: ROS 2 Fundamentals",o={},c=[{value:"Week 5: Advanced ROS 2 Concepts and Tools",id:"week-5-advanced-ros-2-concepts-and-tools",level:2},{value:"Learning Objectives:",id:"learning-objectives",level:3},{value:"Content:",id:"content",level:3},{value:"Detailed Code Examples:",id:"detailed-code-examples",level:3},{value:"Creating an Action Server",id:"creating-an-action-server",level:4},{value:"Using Dynamic Parameters",id:"using-dynamic-parameters",level:4},{value:"Practical Exercises:",id:"practical-exercises",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"module-2-ros-2-fundamentals",children:"Module 2: ROS 2 Fundamentals"})}),"\n",(0,t.jsx)(n.h2,{id:"week-5-advanced-ros-2-concepts-and-tools",children:"Week 5: Advanced ROS 2 Concepts and Tools"}),"\n",(0,t.jsx)(n.h3,{id:"learning-objectives",children:"Learning Objectives:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Explore advanced ROS 2 communication patterns like actions and parameters."}),"\n",(0,t.jsx)(n.li,{children:"Utilize ROS 2 debugging and visualization tools."}),"\n",(0,t.jsx)(n.li,{children:"Understand the concepts of security and quality of service (QoS) in ROS 2."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"content",children:"Content:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"ROS 2 actions for long-running tasks."}),"\n",(0,t.jsx)(n.li,{children:"Dynamic parameters and configuration."}),"\n",(0,t.jsx)(n.li,{children:"Rviz2 for 3D visualization."}),"\n",(0,t.jsx)(n.li,{children:"rqt_graph and other rqt tools for introspection."}),"\n",(0,t.jsx)(n.li,{children:"Introduction to ROS 2 security (SROS 2) and QoS policies."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"detailed-code-examples",children:"Detailed Code Examples:"}),"\n",(0,t.jsx)(n.h4,{id:"creating-an-action-server",children:"Creating an Action Server"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import time\nimport rclpy\nfrom rclpy.action import ActionServer\nfrom rclpy.node import Node\nfrom example_interfaces.action import Fibonacci\n\nclass FibonacciActionServer(Node):\n\n    def __init__(self):\n        super().__init__('fibonacci_action_server')\n        self._action_server = ActionServer(\n            self,\n            Fibonacci,\n            'fibonacci',\n            self.execute_callback)\n\n    def execute_callback(self, goal_handle):\n        self.get_logger().info('Executing goal...')\n\n        feedback_msg = Fibonacci.Feedback()\n        feedback_msg.sequence = [0, 1]\n\n        for i in range(1, goal_handle.request.order):\n            if goal_handle.is_cancel_requested:\n                goal_handle.canceled()\n                self.get_logger().info('Goal canceled')\n                return Fibonacci.Result()\n\n            feedback_msg.sequence.append(\n                feedback_msg.sequence[i] + feedback_msg.sequence[i-1])\n\n            goal_handle.publish_feedback(feedback_msg)\n            time.sleep(1)\n\n        goal_handle.succeed()\n        result = Fibonacci.Result()\n        result.sequence = feedback_msg.sequence\n        self.get_logger().info('Returning result: {0}'.format(result.sequence))\n\n        return result\n\ndef main(args=None):\n    rclpy.init(args=args)\n    fibonacci_action_server = FibonacciActionServer()\n    rclpy.spin(fibonacci_action_server)\n    fibonacci_action_server.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(n.h4,{id:"using-dynamic-parameters",children:"Using Dynamic Parameters"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom rcl_interfaces.msg import ParameterType\nfrom rcl_interfaces.msg import SetParametersResult\n\nclass ParameterNode(Node):\n\n    def __init__(self):\n        super().__init__('parameter_node')\n\n        # Declare parameters with default values\n        self.declare_parameter('robot_name', 'turtlebot')\n        self.declare_parameter('max_velocity', 1.0)\n        self.declare_parameter('safety_distance', 0.5)\n\n        # Register callback for parameter changes\n        self.add_on_set_parameters_callback(self.parameter_callback)\n\n        # Get parameter values\n        self.robot_name = self.get_parameter('robot_name').value\n        self.max_velocity = self.get_parameter('max_velocity').value\n        self.safety_distance = self.get_parameter('safety_distance').value\n\n        self.get_logger().info(f'Robot: {self.robot_name}, Max Vel: {self.max_velocity}, Safety Dist: {self.safety_distance}')\n\n    def parameter_callback(self, params):\n        result = SetParametersResult()\n        result.successful = True\n\n        for param in params:\n            if param.name == 'max_velocity' and param.type == ParameterType.PARAMETER_DOUBLE:\n                if param.value < 0.0 or param.value > 5.0:\n                    result.successful = False\n                    result.reason = 'Max velocity must be between 0.0 and 5.0'\n                    return result\n\n        return result\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = ParameterNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"practical-exercises",children:"Practical Exercises:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Exercise 1:"})," Create an action server that simulates a robot moving to a goal position with feedback on progress."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Exercise 2:"})," Implement a node that uses dynamic parameters to adjust robot speed and turning radius during operation."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Exercise 3:"})," Use rqt_graph to visualize the communication between your nodes from previous exercises."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Exercise 4:"})," Create a QoS profile with reliable delivery and keep-all history, then test it with your publisher/subscriber nodes."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>l});var r=a(6540);const t={},s=r.createContext(t);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);