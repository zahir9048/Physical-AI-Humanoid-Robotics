"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[484],{6912:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"module-2/week-4","title":"Module 2: ROS 2 Fundamentals","description":"Week 4: ROS 2 Python Package Building and Launch Files","source":"@site/docs/module-2/week-4.mdx","sourceDirName":"module-2","slug":"/module-2/week-4","permalink":"/Physical-AI-Humanoid-Robotics/docs/module-2/week-4","draft":false,"unlisted":false,"editUrl":"https://github.com/zahir9048/physical-ai-textbook/tree/001-build-comprehensive-textbook/docs/module-2/week-4.mdx","tags":[],"version":"current","frontMatter":{"sidebar_label":"Week 4: ROS 2 Python Package Building and Launch Files"},"sidebar":"tutorialSidebar","previous":{"title":"Week 3: ROS 2 Architecture and Core Concepts","permalink":"/Physical-AI-Humanoid-Robotics/docs/module-2/week-3"},"next":{"title":"Week 5: Advanced ROS 2 Concepts and Tools","permalink":"/Physical-AI-Humanoid-Robotics/docs/module-2/week-5"}}');var l=i(4848),t=i(8453);const a={sidebar_label:"Week 4: ROS 2 Python Package Building and Launch Files"},r="Module 2: ROS 2 Fundamentals",c={},o=[{value:"Week 4: ROS 2 Python Package Building and Launch Files",id:"week-4-ros-2-python-package-building-and-launch-files",level:2},{value:"Learning Objectives:",id:"learning-objectives",level:3},{value:"Content:",id:"content",level:3},{value:"Detailed Code Examples:",id:"detailed-code-examples",level:3},{value:"Creating a Custom ROS 2 Message",id:"creating-a-custom-ros-2-message",level:4},{value:"Creating a Service Server Node",id:"creating-a-service-server-node",level:4},{value:"Creating a Service Client Node",id:"creating-a-service-client-node",level:4},{value:"Python Launch File Example",id:"python-launch-file-example",level:4},{value:"Practical Exercises:",id:"practical-exercises",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"module-2-ros-2-fundamentals",children:"Module 2: ROS 2 Fundamentals"})}),"\n",(0,l.jsx)(n.h2,{id:"week-4-ros-2-python-package-building-and-launch-files",children:"Week 4: ROS 2 Python Package Building and Launch Files"}),"\n",(0,l.jsx)(n.h3,{id:"learning-objectives",children:"Learning Objectives:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Develop ROS 2 packages using Python."}),"\n",(0,l.jsx)(n.li,{children:"Implement ROS 2 nodes, publishers, and subscribers in Python."}),"\n",(0,l.jsx)(n.li,{children:"Create and use ROS 2 launch files for complex system orchestration."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"content",children:"Content:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Python client library for ROS 2 (rclpy)."}),"\n",(0,l.jsx)(n.li,{children:"Writing custom ROS 2 messages and interfaces."}),"\n",(0,l.jsx)(n.li,{children:"Building and colcon commands for Python packages."}),"\n",(0,l.jsx)(n.li,{children:"Introduction to ROS 2 launch system: XML and Python launch files."}),"\n",(0,l.jsx)(n.li,{children:"Best practices for ROS 2 package development."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"detailed-code-examples",children:"Detailed Code Examples:"}),"\n",(0,l.jsx)(n.h4,{id:"creating-a-custom-ros-2-message",children:"Creating a Custom ROS 2 Message"}),"\n",(0,l.jsxs)(n.p,{children:["Create a file ",(0,l.jsx)(n.code,{children:"srv/AddTwoInts.srv"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"int64 a\nint64 b\n---\nint64 sum\n"})}),"\n",(0,l.jsx)(n.h4,{id:"creating-a-service-server-node",children:"Creating a Service Server Node"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"from add_two_ints_interfaces.srv import AddTwoInts\nimport rclpy\nfrom rclpy.node import Node\n\nclass MinimalService(Node):\n\n    def __init__(self):\n        super().__init__('minimal_service')\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\n\n    def add_two_ints_callback(self, request, response):\n        response.sum = request.a + request.b\n        self.get_logger().info('Incoming request\\na: %d b: %d' % (request.a, request.b))\n        return response\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_service = MinimalService()\n    rclpy.spin(minimal_service)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,l.jsx)(n.h4,{id:"creating-a-service-client-node",children:"Creating a Service Client Node"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"from add_two_ints_interfaces.srv import AddTwoInts\nimport sys\nimport rclpy\nfrom rclpy.node import Node\n\nclass MinimalClient(Node):\n\n    def __init__(self):\n        super().__init__('minimal_client')\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\n        while not self.cli.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info('service not available, waiting again...')\n        self.req = AddTwoInts.Request()\n\n    def send_request(self):\n        self.req.a = int(sys.argv[1])\n        self.req.b = int(sys.argv[2])\n        self.future = self.cli.call_async(self.req)\n        rclpy.spin_until_future_complete(self, self.future)\n        return self.future.result()\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_client = MinimalClient()\n    response = minimal_client.send_request()\n    minimal_client.get_logger().info(\n        'Result of add_two_ints: for %d + %d = %d' %\n        (minimal_client.req.a, minimal_client.req.b, response.sum))\n    minimal_client.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,l.jsx)(n.h4,{id:"python-launch-file-example",children:"Python Launch File Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='demo_nodes_py',\n            executable='listener',\n            name='listener',\n        ),\n        Node(\n            package='demo_nodes_py',\n            executable='talker',\n            name='talker',\n        ),\n    ])\n"})}),"\n",(0,l.jsx)(n.h3,{id:"practical-exercises",children:"Practical Exercises:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Exercise 1:"})," Create a custom message type for a robot's sensor data that includes temperature, humidity, and timestamp."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Exercise 2:"})," Build a ROS 2 package with both a service server and client, implementing a simple calculator functionality."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Exercise 3:"})," Create a launch file that starts both the publisher and subscriber nodes you created in Week 3."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Exercise 4:"})," Use ",(0,l.jsx)(n.code,{children:"colcon build"})," to build your custom package and run it using the launch file."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var s=i(6540);const l={},t=s.createContext(l);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);